<!DOCTYPE html>
<html lang="es" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>Index</title>
    <style>
        body {
            margin: 0;
        }
    </style>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet"
          integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">
    <script defer src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"
            integrity="sha384-YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcIdslK1eN7N6jIeHz"
            crossorigin="anonymous"></script>
</head>
<body>
<nav th:insert="~{/shared/navbar :: #navigator}"></nav>
<main>
    <div class="text-info-emphasis">Lista de todos los trabajadores:</div>
    <div class="row m-auto">
        <div class="col-6">
            <div class="col-12" th:each="trabajador: ${trabajadores}">
                <a href="" class="p-3 text-decoration-none link-info">
                    <div class="card">
                        <div class="card-title text-center bg-success rounded-top-1 text-white"
                             th:text="${trabajador.idTrabajador}"></div>
                        <div class="card-body text-start ps-5" th:text="${trabajador.nombre} + ' ' + ${trabajador.apellidos}"></div>
                        <div class="card-body text-end text-black-50">
                            <div class="row">
                                <div class="col-6 text-start">DNI del trabajador:</div>
                                <div class="col-6" th:text="${trabajador.dni}"></div>
                            </div>
                            <div class="row">
                                <div class="col-6 text-start">Especialidad:</div>
                                <div class="col-6" th:text="${trabajador.especialidad}"></div>
                            </div>
                        </div>

                        <div class="card-footer">
                            <div class="row">
                                <div class="text-center" th:text="${trabajador.email}"></div>
                            </div>
                        </div>
                    </div>
                </a>
                <div class="row m-1 ms-2">
                    <a th:href="@{/app/trabajador/} + ${trabajador.idTrabajador}"
                       class="btn btn-warning col-5 m-auto">Modificar</a>
                    <a th:href="@{/app/trabajador/delete/} + ${trabajador.idTrabajador}"
                       class="btn btn-danger col-5 m-auto">Borrar</a>
                </div>
            </div>
        </div>
        <div class="col-6 sticky-top h-25">
            <!--/*@thymesVar id="trabajador" type="com.example.proyectospring.entities.trabajador.Trabajador"*/-->
            <form class="card p-3 mb-2" action="/app/trabajador/create" method="post" content>
                <div class="text-bg-primary p-3 text-center">Formulario de creación de trabajador</div>
                <div class="alert alert-danger" th:if="${error != null}" th:text="${error}"></div>
                <label for="idTrabajador" class="form-label">Id del trabajador</label>
                <div class="alert alert-danger" th:if="${idTrabajador != null}" th:text="${idTrabajador}"></div>
                <input class="form-control" type="text" name="idTrabajador" id="idTrabajador"
                       th:if="${trabajador!=null}"
                       th:value="${trabajador.idTrabajador}">
                <input class="form-control" type="text" name="idTrabajador" id="idTrabajador"
                       th:if="${trabajador==null}">
                <label for="dni">DNI:</label>
                <div class="alert alert-danger" th:if="${dni != null}" th:text="${dni}"></div>
                <input type="text" name="dni" id="dni" class="form-control" th:if="${trabajador!=null}"
                       th:value="${trabajador.dni}">
                <input type="text" name="dni" id="dni" class="form-control" th:if="${trabajador==null}">
                <label for="nombre">Nombre:</label>
                <div class="alert alert-danger" th:if="${nombre != null}" th:text="${nombre}"></div>
                <input type="text" name="nombre" id="nombre" class="form-control"
                       th:if="${trabajador!=null}" th:field="${trabajador.nombre}">
                <input type="text" name="nombre" id="nombre" class="form-control" th:if="${trabajador==null}">
                <label for="apellidos">Apellidos:</label>
                <div class="alert alert-danger" th:if="${apellidos != null}" th:text="${apellidos}"></div>
                <input class="form-control" type="text" name="apellidos" id="apellidos" th:if="${trabajador!=null}"
                       th:value="${trabajador.apellidos}">
                <input class="form-control" type="text" name="apellidos" id="apellidos" th:if="${trabajador==null}">
                <label for="especialidad">Especialidad:</label>
                <div class="alert alert-danger" th:if="${especialidad != null}" th:text="${especialidad}"></div>
                <input class="form-control" type="text" name="especialidad" id="especialidad"
                       th:if="${trabajador!=null}"
                       th:value="${trabajador.especialidad}">
                <input class="form-control" type="text" name="especialidad" id="especialidad"
                       th:if="${trabajador==null}">
                <label for="contrasenya">Contraseña:</label>
                <div class="alert alert-danger" th:if="${contrasenya != null}" th:text="${contrasenya}"></div>
                <input class="form-control" type="password" name="contrasenya" id="contrasenya" th:if="${trabajador!=null}"
                       th:value="${trabajador.contrasenya}">
                <input class="form-control" type="password" name="contrasenya" id="contrasenya" th:if="${trabajador==null}">
                <label for="email">Email:</label>
                <div class="alert alert-danger" th:if="${email != null}" th:text="${email}"></div>
                <input class="form-control" type="email" name="email" id="email" th:if="${trabajador!=null}"
                       th:value="${trabajador.idTrabajador}">
                <input class="form-control" type="email" name="email" id="email" th:if="${trabajador==null}">
                <button class="btn btn-primary m-auto mt-1 p-2" type="submit">Crear nuevo trabajador</button>
            </form>
        </div>
    </div>
</main>
</body>
</html>